<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
</head>

<nav th:insert="_header :: nav"></nav>

<body>
<div class="container">
    <div class="row mt-2 mb-2 justify-content-center">
        <div class="col-sm-2" th:if="${session.user.getRole==T(by.tms.schoolmanagementsystem.entity.role.Role).Student}">
            <form action="#" class="pe-0" th:action="@{/student/homework/all}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: #eeb206; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
                        <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
                    </svg>
                    <p>My homework</p>
                </button>
            </form>
        </div>
        <div class="col-sm-2" th:unless="${session.user.getRole==T(by.tms.schoolmanagementsystem.entity.role.Role).Student}">
            <form action="#" class="pe-0" th:action="@{/teacher/homework/all}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: #eeb206; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
                        <path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"/>
                    </svg>
                    <p>My homework</p>
                </button>
            </form>
        </div>
        <div class="col-sm-2" th:if="${session.user.getRole==T(by.tms.schoolmanagementsystem.entity.role.Role).Student}">
            <form action="#" th:action="@{/student/lessons}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: #eeb206; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                    </svg>
                    <p>My lessons</p>
                </button>
            </form>
        </div>
        <div class="col-sm-2" th:if="${session.user.getRole==T(by.tms.schoolmanagementsystem.entity.role.Role).Teacher}">
            <form action="#" th:action="@{/teacher/lessons}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: #eeb206; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                    </svg>
                    <p>My lessons</p>
                </button>
            </form>
        </div>
        <div class="col-sm-2">
            <form action="#">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: #eeb206; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
                        <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                    </svg>
                    <p>Conversations</p>
                </button>
            </form>
        </div>
        <div class="col-sm-2">
            <form action="#" th:action="@{/student/teachers/all}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: #eeb206; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                        <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
                    </svg>
                    <p>My teachers</p>
                </button>
            </form>
        </div>
        <div class="col-sm-2">
            <form action="#">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: #eeb206; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                        <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                    </svg>
                    <p>My Marks</p>
                </button>
            </form>
        </div>
    </div>

    <div th:if="${session.user.getRole()==T(by.tms.schoolmanagementsystem.entity.role.Role).Teacher}" class="row mt-2 mb-2 justify-content-center">
        <div class="col-sm-2">
            <form action="#" th:action="@{/lesson/add/homework}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: olive; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-file-diff" viewBox="0 0 16 16">
                        <path d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4zm-2.5 6.5A.5.5 0 0 1 6 10h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"/>
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                    </svg>
                    <p>Create homework</p>
                </button>
            </form>
        </div>
        <div class="col-sm-2" >
            <form action="#" th:action="@{/teacher/marks}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: olive; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-sort-numeric-down-alt" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M11.36 7.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829 1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.836 1.973-1.836 1.09 0 2.063.637 2.063 2.688 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0 .933-.336.933-.972 0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"/>
                        <path d="M12.438 8.668V14H11.39V9.684h-.051l-1.211.859v-.969l1.262-.906h1.046zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"/>
                    </svg>
                    <p>Set marks</p>
                </button>
            </form>
        </div>
    </div>

    <div th:if="${session.user.getRole()==T(by.tms.schoolmanagementsystem.entity.role.Role).Admin}" class="row mt-2 mb-2 justify-content-center">
        <div class="col-sm-2">
            <form action="#" th:action="@{/admin/lessons}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: black; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-file-earmark-diff" viewBox="0 0 16 16">
                        <path d="M8 5a.5.5 0 0 1 .5.5V7H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V8H6a.5.5 0 0 1 0-1h1.5V5.5A.5.5 0 0 1 8 5zm-2.5 6.5A.5.5 0 0 1 6 11h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"/>
                        <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                    </svg>
                    <p>Manage lessons</p>
                </button>
            </form>
        </div>
        <div class="col-sm-2">
            <form action="#" th:action="@{/admin/users}">
                <button type="submit" class="btn btn-primary pb-0 pt-2" style="border-radius: 10px; background-color: black; border: none; width: 160px; height: 80px">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                        <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
                    </svg>
                    <p>Manage users</p>
                </button>
            </form>
        </div>
    </div>

    <div class="row ms-4">
        <div class="col-sm-4 ms-5">
            <p class="fs-1 fw-bold">Hello,<span th:text="' '+${session.user.name}"></span></p>
        </div>
    </div>

    <div class="row justify-content-center ms-5" style="width: 1140px">
        <div class="col-sm-11" style="width: 90%; margin-right: 2%">
            <div class="card shadow bg-body" style="width: 100%;">
                <div class="card-body">
                    <h4>
                        News for you
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pin-angle" viewBox="0 0 16 16">
                            <path d="M9.828.722a.5.5 0 0 1 .354.146l4.95 4.95a.5.5 0 0 1 0 .707c-.48.48-1.072.588-1.503.588-.177 0-.335-.018-.46-.039l-3.134 3.134a5.927 5.927 0 0 1 .16 1.013c.046.702-.032 1.687-.72 2.375a.5.5 0 0 1-.707 0l-2.829-2.828-3.182 3.182c-.195.195-1.219.902-1.414.707-.195-.195.512-1.22.707-1.414l3.182-3.182-2.828-2.829a.5.5 0 0 1 0-.707c.688-.688 1.673-.767 2.375-.72a5.922 5.922 0 0 1 1.013.16l3.134-3.133a2.772 2.772 0 0 1-.04-.461c0-.43.108-1.022.589-1.503a.5.5 0 0 1 .353-.146zm.122 2.112v-.002.002zm0-.002v.002a.5.5 0 0 1-.122.51L6.293 6.878a.5.5 0 0 1-.511.12H5.78l-.014-.004a4.507 4.507 0 0 0-.288-.076 4.922 4.922 0 0 0-.765-.116c-.422-.028-.836.008-1.175.15l5.51 5.509c.141-.34.177-.753.149-1.175a4.924 4.924 0 0 0-.192-1.054l-.004-.013v-.001a.5.5 0 0 1 .12-.512l3.536-3.535a.5.5 0 0 1 .532-.115l.096.022c.087.017.208.034.344.034.114 0 .23-.011.343-.04L9.927 2.028c-.029.113-.04.23-.04.343a1.779 1.779 0 0 0 .062.46z"/>
                        </svg>
                    </h4>
                    <div th:each="item : ${news}" class="card" style="width: 100%;">
                        <a href="#" th:href="@{'/user/announcement/'+${item.getId()}}" class="list-group-item list-group-item-action" style="border-width: 0">
                            <div class="card-body py-0 mx-1" style="height: 50px">
                                <div class="row justify-content-between">
                                    <div class="col-sm-8 pt-3">
                                        <h5 th:text="${item.title}"></h5>
                                    </div>
                                    <div class="col-sm-3 pe-0">
                                        <p th:text="${'from '+item.author.name}" style="margin-bottom: 0"></p>
                                        <p th:text="${item.localDateTime.toLocalDate() + ' ' + item.localDateTime.toLocalTime()}" style="margin-top: 0"></p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row ms-4 mt-1">
        <div class="col-sm-4 ms-5">
            <p class="fs-3 fw-bold">Your plan</p>
        </div>
    </div>

    <div class="row mt-1 mb-1 ms-5 justify-content-center" th:each="i : ${#numbers.sequence(0, 3)}" style="width: 1100px">
        <div class="col-sm-1" style="width: 5px"></div>
        <div class="card ms-1 me-1 shadow bg-body " style="width: 12rem; height: 8rem; border-radius: 10px;" th:each="j : ${#numbers.sequence(0, 4)}" >

            <div th:if="${timetable[i][j]!=null}" class="card-body pe-0 ps-0 pt-1">
                <h5 class="card-title mb-0" th:text="${timetable[i][j].name}"></h5>
                <h6 class="card-subtitle mb-0 text-muted" style="margin-top: 3px" th:text="${timetable[i][j].getTimeTerm().timeBlock.getStringValue()}"></h6>
                <p class="card-text mb-0 text-wrap" th:text="${timetable[i][j].teacher.name}">Some quick example text</p>
                <a href="#" th:href="@{'/lesson/'+${timetable[i][j].id}}" class="card-link">Show more</a>
            </div>

            <div th:unless="${timetable[i][j]!=null}" class="card-body pe-0 ps-0 pt-1" style="opacity: 0">
                <h5 class="card-title mb-0"></h5>
                <h6 class="card-subtitle mb-0 text-muted"></h6>
                <p class="card-text mb-0 text-wrap"></p>
                <a href="#" class="card-link"></a>
            </div>

        </div>
    </div>



    <div th:unless="${session.user.getRole()==T(by.tms.schoolmanagementsystem.entity.role.Role).Student}" class="row justify-content-end">
        <div class="col-sm-2" style="position: fixed; bottom: 2%; right: 1%">
            <div class="row justify-content-end">
                <div class="col-sm-10 mt-5" style="width: 65px; height: 55px">
                    <form th:action="@{/user/announcement/new}">
                        <button type="submit" class="btn btn-outline-warning" style="border-radius: 100%; width: 45px; height: 45px; margin-right: 10px">
                            <div style="margin-top: 60%; margin-left: 30%">
                                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16" style="margin-bottom: 10px">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg>
                            </div>
                        </button>
                    </form>
                </div>
                <div class="col-sm-2">
                    <span style="writing-mode: vertical-lr; margin-top: 20%">
                    New announcement
                    </span>
                </div>
            </div>
        </div>
    </div>


</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
<footer th:insert="_footer :: footer"></footer>
</html>